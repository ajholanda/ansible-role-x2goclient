---
- name: Enable extra packages for RHEL OS family
  become: yes
  package: name=epel-release state=latest
  when: >
    x2goclient_install == True
    and (ansible_os_family|lower == "redhat" or
     ansible_os_family|lower == "almalinux")
  tags: x2goclient

- name: Install X2Go client
  become: yes
  package: name=x2goclient state=latest
  when: x2goclient_install == True
  tags: x2goclient

- name: Uninstall X2Go client
  become: yes
  package: name=x2goclient state=absent
  when: x2goclient_install == False
  tags: x2goclient

